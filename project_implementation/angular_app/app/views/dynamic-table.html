<section class="table-wrapper">
  <table class="dynamic-table schedule-table" ng-if="tableView.rows && tableView.rows.length">
    <tr>
      <th ng-repeat="header in tableView.headers track by $index">{{header}}</th>
    </tr>
    <tr ng-repeat="row in tableView.rows track by $index">
      <!-- if editor -->
      <td class="table-editor" colspan="{{tableView.headers.length}}" ng-if="row.type === 'editor'">
        <div class="table-editor-flex">
          <div class="table-editor-left">
            <section>
              <label class="table-editor-list">
                {{'dynamicTable.CONSTRAINT_LIST' | translate}}:
                <input list="constraintList" placeholder="{{'dynamicTable.CHOOSE_CONSTRAINT' | translate}}">
                <datalist id="constraintList">
                  <option value="!!Test">!!Test</option>
                </datalist>
              </label>
              <div class="table-editor-priority">
                <button class="priority-help">?</button>
                <label class="priority-text">{{'dynamicTable.PRIORITY' | translate}}:</label>
                <button class="priority-mandatory priority-active" placeholder="{{'dynamicTable.MANDATORY' | translate}}">{{'dynamicTable.ABBR_MANDATORY' | translate}}</button>
                <button class="priority-high" placeholder="{{'dynamicTable.HIGH' | translate}}">{{'dynamicTable.ABBR_HIGH' | translate}}</button>
                <button class="priority-low" placeholder="{{'dynamicTable.LOW' | translate}}">{{'dynamicTable.ABBR_LOW' | translate}}</button>
              </div>
            </section>
            <section class="flex-bottom-btn">
              <button class="btn btn-recommended">{{'dynamicTable.SAVE' | translate}}</button>
              <button class="btn btn-recommended" ng-bind-html="'dynamicTable.SAVE_ANOTHER' | translate"></button>
            </section>
          </div>
          <div class="table-editor-right">
            <a href="" ng-click="">!!Hide filters</a>
            <div class="table-editor-filters">
              <label><input type="checkbox">!!Hide rooms already marked as mandatory</label>
              <label><input type="checkbox">!!Hide rooms not constrained by English</label>
              <label><input type="checkbox">!!Hide rooms that do not fit the course max</label>
              <label><input type="checkbox">!!Hide rooms already constrained</label>
            </div>
          </div>
        </div>
      </td>
      <!-- if value-->
      <td ng-if="!row.type" ng-repeat="rowEntry in row track by $index">
        <!-- cluster - NO entries -->
        <div class="table-cluster table-cluster-add" ng-if="rowEntry.type === 'array' && !rowEntry.value" ng-click="addConstraint()">
          <a class="table-cluster-add-text" href="" ng-click="addConstraint()">{{'dynamicTable.ADD' | translate}}</a>
          <button class="table-cluster-add-btn" alt="{{'dynamicTable.ADD' | translate}}"></button>
        </div>
        <!-- cluster - entries -->
        <div class="table-cluster" ng-if="rowEntry.type === 'array' && rowEntry.value">
          <a href="" ng-click="toggleShow(rowEntry)">{{rowEntry.text}}</a>
          <button class="table-cluster-add-btn" ng-click="addConstraint()" alt="{{'dynamicTable.ADD' | translate}}"></button>
          </div>
          <div class="table-cluster-open" ng-show="rowEntry.show">
            <div class="entry" ng-repeat="element in rowEntry.value track by $index">
              <div class="entry-options">
                <button class="entry-edit" alt="{{'dynamicTable.EDIT' | translate}}"></button>
                <button class="entry-disable" alt="{{'dynamicTable.DISABLE' | translate}}"></button>
                <button class="entry-delete" alt="{{'dynamicTable.DELETE' | translate}}"></button>
              </div>
              <div>{{element}}</div>
            </div>
          </div>
        </div>
        <div ng-if="!rowEntry.type">{{rowEntry}}</div>
      </td>
    </tr>
  </table>
</section>
